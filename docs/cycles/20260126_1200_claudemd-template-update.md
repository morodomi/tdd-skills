---
feature: tdd-onboard
cycle: claudemd-template-update
phase: DONE
created: 2026-01-26 12:00
updated: 2026-01-26 12:00
---

# CLAUDE.md Template Update

## Scope Definition

### In Scope
- [x] Update CLAUDE.md template in tdd-onboard reference.md
- [x] Update SKILL.md rules list (moved from #25)

### Out of Scope
- Migration guide (issue #26)
- Step 6 rule templates cleanup (future)

### Files to Change (target: 10 or less)
- plugins/tdd-core/skills/tdd-onboard/reference.md (edit)
- plugins/tdd-core/skills/tdd-onboard/SKILL.md (edit)

## Environment

### Scope
- Layer: Plugin (Markdown template)
- Plugin: tdd-onboard
- Risk: 15 (PASS)

### Runtime
- Bash: 3.2.57

### Dependencies (key packages)
- Claude Code Plugin system

### Risk Interview (BLOCK only)
N/A (PASS level)

## Context & Dependencies

### Reference Documents
- .claude/rules/ - Current rules structure
- plugins/tdd-core/skills/tdd-onboard/ - Current tdd-onboard

### Dependent Features
- #20 (構造変更) - CLOSED
- #21-23 (rules/hooks templates) - CLOSED

### Related Issues/PRs
- Issue #24: feat: CLAUDE.mdテンプレート更新
- Parent: Issue #19: tdd-onboard v2.0

## Test List

### DONE
- [x] TC-01: reference.md has CLAUDE.md template section
- [x] TC-02: Template has "Claude Code Configuration" section
- [x] TC-03: Template references .claude/rules/
- [x] TC-04: Template references .claude/hooks/
- [x] TC-05: Template lists git-safety.md
- [x] TC-06: Template lists security.md
- [x] TC-07: Template lists git-conventions.md
- [x] TC-08: Template does NOT list tdd-workflow.md (removed)
- [x] TC-09: Template does NOT list quality.md (removed)
- [x] TC-10: Template lists recommended.md in Hooks section
- [x] TC-11: SKILL.md lists only 3 rules
- [x] TC-12: SKILL.md does NOT list tdd-workflow

### DISCOVERED
- TC-11, TC-12: SKILL.md consistency (added during REVIEW)

## Implementation Notes

### Goal
Update the CLAUDE.md template generated by tdd-onboard to reference the new .claude/ structure.

### Background
reference.mdのCLAUDE.mdテンプレート（Step 4）には`.claude/rules/`に存在しないファイルが記載されている。
実際の構造: git-conventions.md, git-safety.md, security.md (3ファイル)
テンプレート記載: 7ファイル（tdd-workflow, quality, testing-guide, commands等）

テンプレートを実際の構造に合わせて更新する。

### Design Approach
**対象**: reference.md の Step 4 CLAUDE.mdテンプレート（100-196行）

**変更内容**:
1. "Claude Code Configuration" セクションのRulesリストを実際の3ファイルに修正
2. 不要なファイル参照を削除（tdd-workflow, quality, testing-guide, commands）
3. Hooksセクションは現状維持（recommended.md）

## Progress Log

### 2026-01-26 12:00 - INIT
- Cycle doc created
- Scope: CLAUDE.md template update only
- Risk: 15 (PASS)

### 2026-01-26 12:05 - PLAN
- Analyzed reference.md lines 100-196
- Found mismatch: template lists 7 rules, only 3 exist
- Test List: 10 test cases defined
- Design: Update Rules list to actual 3 files

### 2026-01-26 12:10 - RED/GREEN/REFACTOR/REVIEW/COMMIT
- Created test script (12 test cases)
- Fixed reference.md Rules section (7→3 files)
- Fixed SKILL.md line 73 (added during REVIEW)
- quality-gate: PASS (score 25)
- All tests passed

---

## Next Steps

1. [Done] INIT
2. [Done] PLAN
3. [Done] RED
4. [Done] GREEN
5. [Done] REFACTOR
6. [Done] REVIEW
7. [Done] COMMIT
