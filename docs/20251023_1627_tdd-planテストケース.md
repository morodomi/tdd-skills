# Laravel用tdd-plan Skill テストケース

**作成日時**: 2025-10-23 16:27
**対象**: templates/laravel/.claude/skills/tdd-plan/
**テストタイプ**: 手動テスト

---

## テスト環境

- **Claude Code**: 最新版
- **テスト対象プロジェクト**: 既存のLaravelプロジェクト
- **前提条件**:
  - tdd-plan Skillがインストール済み
  - `.claude/skills/tdd-plan/SKILL.md` が存在
  - `.claude/skills/tdd-plan/templates/PLAN.md.template` が存在

---

## テストケース一覧

### TC-01: Skill発動テスト

**目的**: ユーザーが「plan」と発言した際にtdd-plan Skillが正しく発動することを確認

**前提条件**:
- Laravelプロジェクトディレクトリにいる
- Claude Codeが起動している

**実施手順**:
1. Claude Codeで新しいセッションを開始
2. 「plan」とメッセージを送信
3. Skillの読み込みログを確認

**期待結果**:
- tdd-plan Skillが自動的に読み込まれる
- Claude Codeが「PLANフェーズを開始します」等のメッセージを返す
- 実装コードを書かないことを示す説明がある

**実際の結果**:
[実施時に記録]

**判定**: [合格/不合格]

---

### TC-02: 発動キーワードバリエーションテスト

**目的**: 複数のキーワードでSkillが発動することを確認

**前提条件**:
- Laravelプロジェクトディレクトリにいる
- Claude Codeが起動している

**実施手順**:
1. 新しいセッションで「計画」と発言 → Skill発動確認
2. 新しいセッションで「設計」と発言 → Skill発動確認
3. 新しいセッションで「plan」と発言 → Skill発動確認

**期待結果**:
- すべてのキーワードでtdd-plan Skillが発動する
- 発動の挙動が一貫している

**実際の結果**:
[実施時に記録]

**判定**: [合格/不合格]

---

### TC-03: テンプレート質問モードテスト

**目的**: SkillがPLAN.md.templateを読み込み、各セクションについて質問することを確認

**前提条件**:
- tdd-plan Skillが発動している

**実施手順**:
1. Skillが発動したら、最初の質問を待つ
2. 質問内容を記録する
3. 各質問に対して回答する
4. すべてのセクション（ユーザーストーリー、受け入れ基準、実装範囲等）について質問されるか確認

**期待結果**:
- PLAN.md.templateの各セクションについて順番に質問される
- ユーザーの回答を待つ（勝手に推測しない）
- 質問の内容が明確で理解しやすい

**実際の結果**:
[実施時に記録]

**質問されたセクション**:
- [ ] ユーザーストーリー
- [ ] 受け入れ基準
- [ ] 実装範囲
- [ ] アーキテクチャ設計
- [ ] テストケース一覧
- [ ] 見積もり
- [ ] 依存関係
- [ ] リスク

**判定**: [合格/不合格]

---

### TC-04: 制約テスト（実装コードを書かない）

**目的**: PLANフェーズ中に実装を依頼しても、Skillが拒否することを確認

**前提条件**:
- tdd-plan Skillが発動している
- 質問に回答中

**実施手順**:
1. PLAN作成中に「UserモデルのupdateProfile()メソッドを実装して」と依頼
2. Skillの応答を確認

**期待結果**:
- 「PLANフェーズでは実装コードを書けません」等の拒否メッセージ
- 実装コードが生成されない
- PLAN作成に集中するよう促される

**実際の結果**:
[実施時に記録]

**判定**: [合格/不合格]

---

### TC-05: PLAN.md生成テスト

**目的**: すべての質問に回答した後、正しい形式でPLAN.mdが生成されることを確認

**前提条件**:
- tdd-plan Skillが発動している
- すべての質問に回答済み

**実施手順**:
1. すべての質問に回答する
2. PLAN.mdの生成を待つ
3. `docs/tdd/PLAN.md` の存在を確認
4. 内容を確認

**期待結果**:
- `docs/tdd/PLAN.md` ファイルが作成される
- ファイルにユーザーの回答が反映されている
- テンプレート構造に従っている
- Given/When/Thenセクションが含まれている

**実際の結果**:
[実施時に記録]

**生成されたファイルパス**:

**判定**: [合格/不合格]

---

### TC-06: PLAN.md構造検証テスト

**目的**: 生成されたPLAN.mdが期待される構造を持つことを確認

**前提条件**:
- TC-05が合格
- PLAN.mdが生成されている

**実施手順**:
1. PLAN.mdを開く
2. 以下のセクションが存在することを確認

**期待結果**:
生成されたPLAN.mdに以下のセクションが含まれる:

**必須セクション**:
- [ ] `# [機能名] 実装計画`（見出し）
- [ ] `## ユーザーストーリー`
  - [ ] `As a`, `I want to`, `So that` の3要素
- [ ] `## 受け入れ基準`
  - [ ] `Given`, `When`, `Then`, `And` を含むシナリオ
- [ ] `## 実装範囲`
  - [ ] `### 対象ファイル`
  - [ ] `### 対象外`
- [ ] `## テストケース一覧`

**任意セクション**（回答内容による）:
- [ ] `## アーキテクチャ設計`
- [ ] `## 見積もり`
- [ ] `## 依存関係`
- [ ] `## リスク`

**実際の結果**:
[実施時に記録]

**判定**: [合格/不合格]

---

### TC-07: 次ステップ案内テスト

**目的**: PLAN.md生成後、次のステップを適切に案内することを確認

**前提条件**:
- TC-05が合格
- PLAN.mdが生成されている

**実施手順**:
1. PLAN.md生成後のメッセージを確認

**期待結果**:
- ユーザーにレビューを促すメッセージがある
- 次のフェーズ（PLAN REVIEW）について言及がある
- 修正が必要な場合の対応方法が示されている

**実際の結果**:
[実施時に記録]

**判定**: [合格/不合格]

---

### TC-08: エラーハンドリングテスト

**目的**: 不完全な回答や予期しない入力に対して適切に対処することを確認

**前提条件**:
- tdd-plan Skillが発動している

**実施手順**:
1. ユーザーストーリーの質問に「わからない」と回答
2. Skillの応答を確認
3. 受け入れ基準の質問に空の回答をする
4. Skillの応答を確認

**期待結果**:
- 不明確な回答に対して再質問する
- スキップするオプションを提供する
- エラーにならず、対話を継続できる

**実際の結果**:
[実施時に記録]

**判定**: [合格/不合格]

---

## テスト実施記録

**実施日**: [未実施]
**実施者**: [名前]
**使用環境**:
- Claude Code バージョン:
- Laravelプロジェクト:

### 総合結果

| テストケース | 判定 | 備考 |
|------------|------|------|
| TC-01: Skill発動 | [未実施] | |
| TC-02: 発動キーワード | [未実施] | |
| TC-03: 質問モード | [未実施] | |
| TC-04: 制約テスト | [未実施] | |
| TC-05: PLAN.md生成 | [未実施] | |
| TC-06: 構造検証 | [未実施] | |
| TC-07: 次ステップ案内 | [未実施] | |
| TC-08: エラーハンドリング | [未実施] | |

**合格数**: 0/8
**不合格数**: 0/8
**未実施**: 8/8

**総合判定**: [未実施]

---

## 不具合記録

### 不具合-01: [タイトル]
**発生テストケース**:
**症状**:
**再現手順**:
**期待される動作**:
**実際の動作**:
**対応**:

---

## 備考

- テストは実装完了後（GREENフェーズ後）に実施する
- すべてのテストが合格するまでREFACTORフェーズに進まない
- 不合格の場合は実装を修正してテストを再実施

---

*作成日時: 2025-10-23 16:27*
*次のフェーズ: GREEN（実装）*
