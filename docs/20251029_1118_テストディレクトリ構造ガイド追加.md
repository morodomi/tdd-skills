# テストディレクトリ構造ガイド追加

**作成日時**: 2025-10-29 11:18
**機能名**: テストディレクトリ構造ガイド追加
**ステータス**: INIT完了

---

## INIT（要件定義）

### やりたいこと

tdd-plan、tdd-red、tdd-greenの各SkillにLaravelのテスト及びアプリケーションのディレクトリ構造ベストプラクティスガイドを追加する。

### 背景

**現在の問題**:
- tests/Feature/ に XXXXControllerTest.php ファイルが多数あり管理が困難
- ファイル数が増えてきて並列ファイルが多くなり困っている
- ServiceクラスやProviderクラスはUnit、ControllerはFeatureという分け方だけでは不十分

**調査結果**:
- Laravel公式: 「most of your tests should be feature tests」
- Framgia guideline: app/ディレクトリとtests/ディレクトリの構造を一致させる
- Gemini推奨: 機能領域別（ドメイン別）のサブディレクトリで整理

**推奨構造**:
```
tests/
├── Feature/
│   ├── User/               # ユーザー機能
│   ├── Product/            # 商品機能
│   ├── Order/              # 注文機能
│   └── Admin/              # 管理機能
└── Unit/
    ├── Services/
    │   ├── User/
    │   └── Product/
    └── Providers/
```

### 要件

以下の3つのSkillファイルにディレクトリ構造ガイドを追加する:

1. **tdd-plan SKILL.md**
   - テストケース一覧作成時にディレクトリ構造を計画
   - 機能領域別グルーピングの推奨
   - app/との構造一致の重要性を明記

2. **tdd-red SKILL.md**
   - テストファイル作成時の具体的な配置ガイド
   - サブディレクトリの作り方
   - Feature/Unit両方の構造例

3. **tdd-green SKILL.md**
   - 実装時のapp/ディレクトリ構造ガイド
   - tests/ディレクトリとの構造一致
   - Controller、Service、Providerの配置推奨

### 目的

1. ✅ テストファイルの散乱問題を解決
2. ✅ 大規模プロジェクトでもメンテナンス性を維持
3. ✅ Laravelベストプラクティスに準拠
4. ✅ 開発者がディレクトリ構造で迷わない

### 対象範囲

**修正対象**:
- `templates/laravel/.claude/skills/tdd-plan/SKILL.md`
- `templates/laravel/.claude/skills/tdd-red/SKILL.md`
- `templates/laravel/.claude/skills/tdd-green/SKILL.md`

**対象外**:
- 他のSkills（tdd-init, tdd-refactor, tdd-review）は今回対象外
- 実際のプロジェクトへの適用（ガイド提供のみ）

---

## PLAN（実装計画）

### ユーザーストーリー

**As a** Laravel開発者
**I want to** テストとアプリケーションのディレクトリ構造のベストプラクティスガイドが欲しい
**So that** 大規模プロジェクトでもテストファイルを適切に整理でき、メンテナンス性を維持できる

### 受け入れ基準

#### シナリオ1: tdd-planでディレクトリ構造を計画できる

**Given** tdd-plan Skillが発動している
**When** テストケース一覧を作成する段階
**Then** ディレクトリ構造のガイドが表示される
**And** 機能領域別グルーピングの例が示される
**And** app/ディレクトリとの構造一致の重要性が説明される

#### シナリオ2: tdd-redでテストファイルを適切に配置できる

**Given** tdd-red Skillが発動している
**When** テストファイルを作成する
**Then** サブディレクトリの作成方法が示される
**And** Feature/Unit両方の具体的な構造例が表示される
**And** 機能別にファイルをグルーピングできる

#### シナリオ3: tdd-greenでapp/ディレクトリを適切に構成できる

**Given** tdd-green Skillが発動している
**When** 実装ファイルを作成する
**Then** app/ディレクトリ構造のガイドが表示される
**And** tests/ディレクトリとの構造一致が推奨される
**And** Controller、Service、Providerの配置例が示される

### 実装範囲

#### 修正対象ファイル

1. `templates/laravel/.claude/skills/tdd-plan/SKILL.md`
2. `templates/laravel/.claude/skills/tdd-red/SKILL.md`
3. `templates/laravel/.claude/skills/tdd-green/SKILL.md`

#### 対象外

- tdd-init, tdd-refactor, tdd-reviewは今回対象外
- 実際のプロジェクトへの適用は行わない（ガイド提供のみ）

### アーキテクチャ設計

#### 1. tdd-plan SKILL.mdへの追加内容

**追加場所**: セクション2「対話フェーズ」の「6. テストケース一覧」の後に新セクション追加

**追加内容**:
```markdown
7. **ディレクトリ構造の計画**
   「テストファイルのディレクトリ構造を計画してください」

   推奨: 機能領域別（ドメイン別）のサブディレクトリ

   例:
   - tests/Feature/User/
   - tests/Feature/Product/
   - tests/Feature/Order/
   - tests/Unit/Services/User/
   - tests/Unit/Services/Product/

   重要: app/ディレクトリと構造を一致させる
```

#### 2. tdd-red SKILL.mdへの追加内容

**追加場所**: セクション2「テスト作成フェーズ」の「2.1 Feature Testsから作成開始」の直後に新セクション追加

**追加セクション名**: `#### 2.1.1 ディレクトリ構造の決定`

**追加内容**:
```markdown
#### 2.1.1 ディレクトリ構造の決定

テストファイルを作成する前に、適切なディレクトリ構造を決定します。

##### 推奨: 機能領域別（ドメイン別）のサブディレクトリ

**小規模プロジェクト**:
```
tests/
├── Feature/
│   ├── UserControllerTest.php
│   └── ProductControllerTest.php
└── Unit/
    └── UserServiceTest.php
```

**中〜大規模プロジェクト（推奨）**:
```
tests/
├── Feature/
│   ├── User/
│   │   ├── UserProfileControllerTest.php
│   │   └── UserRegistrationControllerTest.php
│   ├── Product/
│   │   ├── ProductControllerTest.php
│   │   └── ProductSearchTest.php
│   └── Order/
│       └── OrderControllerTest.php
└── Unit/
    ├── Services/
    │   ├── User/
    │   │   └── UserServiceTest.php
    │   └── Product/
    │       └── ProductServiceTest.php
    └── Providers/
        └── AppServiceProviderTest.php
```

##### 重要な原則

1. **app/ディレクトリと構造を一致させる**
   ```
   app/Http/Controllers/User/UserProfileController.php
   → tests/Feature/User/UserProfileControllerTest.php

   app/Services/User/UserService.php
   → tests/Unit/Services/User/UserServiceTest.php
   ```

2. **機能単位でまとめる**
   - User機能: 認証、プロフィール、退会など
   - Product機能: 一覧、詳細、検索など
   - Order機能: 注文、決済、キャンセルなど

3. **PHPUnit/Pestは自動的にサブディレクトリを検出**
   - phpunit.xmlの設定で再帰的にスキャン
   - サブディレクトリがあっても問題なく実行される

##### ディレクトリ作成方法

**mkdir使用**:
```bash
mkdir -p tests/Feature/User
mkdir -p tests/Feature/Product
mkdir -p tests/Unit/Services/User
```

**Writeツールで直接作成**:
```php
// tests/Feature/User/UserProfileControllerTest.php
Write tests/Feature/User/UserProfileControllerTest.php
```
```

#### 3. tdd-green SKILL.mdへの追加内容

**追加場所**: セクション2「実装フェーズ」の最初に新セクション追加

**追加セクション名**: `#### 2.0 ディレクトリ構造の確認`

**追加内容**:
```markdown
#### 2.0 ディレクトリ構造の確認

実装を開始する前に、app/ディレクトリとtests/ディレクトリの構造を一致させることを確認します。

##### 推奨: tests/とapp/の構造を一致させる

**一致させる例**:
```
tests/Feature/User/UserProfileControllerTest.php
→ app/Http/Controllers/User/UserProfileController.php

tests/Unit/Services/User/UserServiceTest.php
→ app/Services/User/UserService.php
```

##### ディレクトリ配置の推奨

**Controllers**:
```
app/Http/Controllers/
├── User/
│   ├── UserProfileController.php
│   └── UserRegistrationController.php
├── Product/
└── Order/
```

**Services**:
```
app/Services/
├── User/
│   └── UserService.php
├── Product/
│   └── ProductService.php
└── Order/
    └── OrderService.php
```

**Providers**:
```
app/Providers/
├── AppServiceProvider.php
├── AuthServiceProvider.php
└── RouteServiceProvider.php
```
（Providersは通常app/Providers/直下に配置）

##### 実装時の注意点

1. **テストで定義したディレクトリ構造に従う**
   - REDフェーズで作成したテストファイルの配置を確認
   - 同じ構造でapp/ディレクトリを作成

2. **機能単位でまとめる**
   - User機能: Controllers, Services, Models全てUser/配下
   - 関連ファイルが近くにあると保守しやすい

3. **Artisanコマンドでディレクトリ指定**
   ```bash
   # サブディレクトリ付きで生成
   php artisan make:controller User/UserProfileController
   php artisan make:model User/User
   ```
```

### テストケース一覧

このプロジェクトはSkillファイルの修正なので、手動テストになります。

#### Feature Tests

**テストファイル**: 手動確認

##### TC-01: tdd-plan SKILLのガイド表示
- ディレクトリ構造計画セクションが追加されている
- 機能領域別グルーピングの例が示されている
- app/との構造一致が説明されている

##### TC-02: tdd-red SKILLのディレクトリガイド
- ディレクトリ構造決定セクションが追加されている
- 小規模/大規模プロジェクトの構造例が示されている
- サブディレクトリ作成方法が記載されている

##### TC-03: tdd-green SKILLの実装ガイド
- ディレクトリ構造確認セクションが追加されている
- app/とtests/の構造一致が推奨されている
- Controller/Service/Providerの配置例が示されている

#### Unit Tests

このプロジェクトにUnit Testsは不要（ドキュメント修正のため）

### 見積もり

- テスト作成: なし（手動確認のみ）
- 実装: 30分
  - tdd-plan SKILL.md: 10分
  - tdd-red SKILL.md: 10分
  - tdd-green SKILL.md: 10分
- リファクタリング: 10分
- レビュー: 10分

**合計**: 約1時間

### 依存関係とリスク

#### 依存関係
- 既存のtdd-plan/red/green SKILL.mdの構造を理解する必要がある
- 調査結果（Laravel公式、Framgia、Gemini）の内容を正確に反映

#### リスク
- 既存のセクション番号が変わる可能性（2.1 → 2.0.1等）
- ガイドが長すぎてSkillファイルが読みづらくなる可能性
  - 対策: 簡潔な例示にとどめる

### 品質基準

- すべてのSkills（tdd-plan/red/green）にガイドが追加されている
- 調査結果（Laravel公式、Framgia、Gemini）が正確に反映されている
- 構造例が具体的でわかりやすい
- 既存のSkill構造を壊さない

---

## RED（テストケース）

このプロジェクトはSkillファイルの修正なので、手動テストになります。

### 手動テストケース詳細

#### TC-01: tdd-plan SKILLのディレクトリ構造ガイド追加

**実施方法**:
1. `templates/laravel/.claude/skills/tdd-plan/SKILL.md` を開く
2. セクション2「対話フェーズ」の「6. テストケース一覧」の後を確認
3. 新セクション「7. ディレクトリ構造の計画」が追加されているか確認

**確認項目**:
- [ ] セクション「7. ディレクトリ構造の計画」が追加されている
- [ ] 機能領域別グルーピングの例が記載されている
  - tests/Feature/User/
  - tests/Feature/Product/
  - tests/Feature/Order/
  - tests/Unit/Services/User/
  - tests/Unit/Services/Product/
- [ ] app/ディレクトリとの構造一致の重要性が説明されている
- [ ] ユーザーへの質問形式になっている

**合格基準**: すべての確認項目が満たされる

---

#### TC-02: tdd-red SKILLのディレクトリ構造決定ガイド追加

**実施方法**:
1. `templates/laravel/.claude/skills/tdd-red/SKILL.md` を開く
2. セクション2「テスト作成フェーズ」の「2.1 Feature Testsから作成開始」の直後を確認
3. 新セクション「2.1.1 ディレクトリ構造の決定」が追加されているか確認

**確認項目**:
- [ ] セクション「2.1.1 ディレクトリ構造の決定」が追加されている
- [ ] 小規模プロジェクトの構造例が示されている
- [ ] 中〜大規模プロジェクトの構造例（推奨）が示されている
- [ ] 重要な原則3つが記載されている
  1. app/ディレクトリと構造を一致させる
  2. 機能単位でまとめる
  3. PHPUnit/Pestは自動的にサブディレクトリを検出
- [ ] ディレクトリ作成方法（mkdir/Writeツール）が記載されている
- [ ] 具体的なパス例が示されている

**合格基準**: すべての確認項目が満たされる

---

#### TC-03: tdd-green SKILLのディレクトリ構造確認ガイド追加

**実施方法**:
1. `templates/laravel/.claude/skills/tdd-green/SKILL.md` を開く
2. セクション2「実装フェーズ」の最初を確認
3. 新セクション「2.0 ディレクトリ構造の確認」が追加されているか確認

**確認項目**:
- [ ] セクション「2.0 ディレクトリ構造の確認」が追加されている
- [ ] tests/とapp/の構造一致の例が示されている
- [ ] Controller/Service/Providerの配置例が示されている
- [ ] 実装時の注意点3つが記載されている
  1. テストで定義したディレクトリ構造に従う
  2. 機能単位でまとめる
  3. Artisanコマンドでディレクトリ指定
- [ ] Artisanコマンドの具体例が記載されている

**合格基準**: すべての確認項目が満たされる

---

### テスト実施記録

**実施日**: 2025-10-29
**実施者**: Claude

| テストケース | 判定 | 備考 |
|------------|------|------|
| TC-01: tdd-plan ガイド追加 | ✅ PASS | すべての確認項目が満たされている |
| TC-02: tdd-red ガイド追加 | ✅ PASS | すべての確認項目が満たされている |
| TC-03: tdd-green ガイド追加 | ✅ PASS | すべての確認項目が満たされている |

**総合判定**: ✅ 合格 - すべてのテストケースが合格

---

## GREEN（実装）

3つのSkillファイルにディレクトリ構造ガイドを追加しました。

### 1. tdd-plan SKILL.md修正

**ファイル**: `templates/laravel/.claude/skills/tdd-plan/SKILL.md`

**追加箇所**: セクション7「ディレクトリ構造の計画」（セクション6「テストケース一覧」の後）

**追加内容**:
- 機能領域別（ドメイン別）のサブディレクトリ推奨
- 具体例（User/, Product/, Order/）
- app/ディレクトリとの構造一致の重要性
- 小規模プロジェクト vs 中〜大規模プロジェクトの判断基準（10ファイル）

**セクション番号変更**:
- 旧セクション7 → 新セクション8（見積もり）
- 旧セクション8 → 新セクション9（依存関係とリスク）
- 旧セクション9 → 新セクション10（品質基準）

### 2. tdd-red SKILL.md修正

**ファイル**: `templates/laravel/.claude/skills/tdd-red/SKILL.md`

**追加箇所**: セクション2.1.1「ディレクトリ構造の決定」（セクション2.1「Feature Testsから作成開始」の直後）

**追加内容**:
- 小規模プロジェクトの構造例（フラット）
- 中〜大規模プロジェクトの構造例（サブディレクトリ）
- 3つの重要な原則
  1. app/ディレクトリと構造を一致させる
  2. 機能単位でまとめる
  3. PHPUnit/Pestは自動的にサブディレクトリを検出
- ディレクトリ作成方法（Bashコマンド vs Writeツール）
- 判断基準（10ファイル未満 vs 10ファイル以上）

### 3. tdd-green SKILL.md修正

**ファイル**: `templates/laravel/.claude/skills/tdd-green/SKILL.md`

**追加箇所**: セクション2.0「ディレクトリ構造の確認」（セクション2「実装フェーズ」の最初）

**追加内容**:
- tests/とapp/の構造を一致させる推奨
- 一致させる例（Feature/User/ → app/Http/Controllers/User/）
- ディレクトリ配置の推奨
  - Controllers: app/Http/Controllers/User/, Product/, Order/
  - Services: app/Services/User/, Product/, Order/
  - Providers: app/Providers/（直下配置）
- 実装時の注意点
  1. テストで定義したディレクトリ構造に従う
  2. 機能単位でまとめる
  3. Artisanコマンドでディレクトリ指定

### 実装完了確認

すべてのSkillファイルに以下が追加されました：
- ✅ tdd-plan: 計画段階でのディレクトリ構造検討ガイド
- ✅ tdd-red: テスト作成時のディレクトリ配置ガイド
- ✅ tdd-green: 実装時のディレクトリ配置推奨

調査結果（Laravel公式、Framgia、Gemini）の内容が正確に反映されています。

---

## REFACTOR（リファクタリング）

追加したコンテンツの品質チェックを実施しました。

### 品質チェック項目

#### 1. フォーマット一貫性チェック

**セクションヘッダー形式**:
- ✅ tdd-plan: `7. **ディレクトリ構造の計画**` - 番号付きリスト形式（既存形式に一致）
- ✅ tdd-red: `#### 2.1.1 ディレクトリ構造の決定` - サブセクション形式（既存形式に一致）
- ✅ tdd-green: `#### 2.0 ディレクトリ構造の確認` - サブセクション形式（既存形式に一致）

**コードブロック整合性**:
- ✅ tdd-plan: 1コードブロック（2マーカー） - すべて閉じられている
- ✅ tdd-red: 5コードブロック（10マーカー） - すべて閉じられている
- ✅ tdd-green: 5コードブロック（10マーカー） - すべて閉じられている

#### 2. 用語一貫性チェック

**主要用語の使用頻度**:
- "機能領域別": tdd-plan(1), tdd-red(1), tdd-green(0) - 一貫
- "サブディレクトリ": tdd-plan(3), tdd-red(5), tdd-green(1) - 一貫
- "app/ディレクトリ": tdd-plan(1), tdd-red(1), tdd-green(2) - 一貫

すべてのファイルで統一された用語を使用しています。

#### 3. 内容一貫性チェック

**推奨構造の一貫性**:
- ✅ すべてのファイルで同じ例を使用（User/, Product/, Order/）
- ✅ 小規模 vs 大規模の基準が一貫（10ファイル）
- ✅ app/との構造一致を強調

**3フェーズの連携**:
- tdd-plan: 計画段階で「構造を検討」
- tdd-red: テスト作成時に「構造を決定」
- tdd-green: 実装時に「構造を確認」

段階的なガイドになっています。

### リファクタリング結果

**改善不要**: すべてのチェック項目が合格しました。

- フォーマットは既存のSkill形式に一致
- コードブロックはすべて正しく閉じられている
- 用語は3ファイル間で一貫
- 内容は段階的で論理的な流れ

追加のリファクタリングは不要です。

---

## REVIEW（品質検証）

手動テストケースを実行し、すべての品質基準を満たしていることを確認しました。

### テスト結果サマリー

#### TC-01: tdd-plan SKILLのディレクトリ構造ガイド追加 ✅ PASS

**確認内容**:
- ✅ セクション「7. ディレクトリ構造の計画」が追加されている
- ✅ 機能領域別グルーピングの例が記載されている
  - tests/Feature/User/
  - tests/Feature/Product/
  - tests/Feature/Order/
  - tests/Unit/Services/User/
  - tests/Unit/Services/Product/
- ✅ app/ディレクトリとの構造一致の重要性が説明されている
- ✅ ユーザーへの質問形式になっている（「テストファイルのディレクトリ構造を計画してください」）

**判定理由**: すべての確認項目が完全に満たされています。

#### TC-02: tdd-red SKILLのディレクトリ構造決定ガイド追加 ✅ PASS

**確認内容**:
- ✅ セクション「2.1.1 ディレクトリ構造の決定」が追加されている
- ✅ 小規模プロジェクトの構造例が示されている（フラット構造）
- ✅ 中〜大規模プロジェクトの構造例（推奨）が示されている（サブディレクトリ）
- ✅ 重要な原則3つが記載されている
  1. app/ディレクトリと構造を一致させる
  2. 機能単位でまとめる
  3. PHPUnit/Pestは自動的にサブディレクトリを検出
- ✅ ディレクトリ作成方法（Bashコマンド vs Writeツール）が記載されている
- ✅ 具体的なパス例が示されている（tests/Feature/User/, app/Http/Controllers/User/）
- ✅ 判断基準（10ファイル未満 vs 10ファイル以上）が記載されている

**判定理由**: すべての確認項目が完全に満たされています。調査結果（Laravel公式、Framgia、Gemini）が正確に反映されています。

#### TC-03: tdd-green SKILLのディレクトリ構造確認ガイド追加 ✅ PASS

**確認内容**:
- ✅ セクション「2.0 ディレクトリ構造の確認」が追加されている
- ✅ tests/とapp/の構造一致の例が示されている
  - tests/Feature/User/ → app/Http/Controllers/User/
  - tests/Unit/Services/User/ → app/Services/User/
- ✅ Controller/Service/Providerの配置例が示されている
  - Controllers: app/Http/Controllers/User/, Product/, Order/
  - Services: app/Services/User/, Product/, Order/
  - Providers: app/Providers/（直下配置）
- ✅ 実装時の注意点3つが記載されている
  1. テストで定義したディレクトリ構造に従う
  2. 機能単位でまとめる
  3. Artisanコマンドでディレクトリ指定
- ✅ Artisanコマンドの具体例が記載されている（php artisan make:controller User/UserProfileController）

**判定理由**: すべての確認項目が完全に満たされています。

### 品質基準の達成度

#### 1. すべてのSkillsにガイドが追加されている ✅

- tdd-plan: セクション7追加
- tdd-red: セクション2.1.1追加
- tdd-green: セクション2.0追加

#### 2. 調査結果が正確に反映されている ✅

- Laravel公式: "most of your tests should be feature tests" → Feature Tests優先を強調
- Framgia: app/構造をtests/にミラー → 構造一致の原則として記載
- Gemini: 機能領域別サブディレクトリ → User/, Product/, Order/例として採用

#### 3. 構造例が具体的でわかりやすい ✅

- 小規模プロジェクト例（フラット）
- 中〜大規模プロジェクト例（サブディレクトリ）
- 判断基準（10ファイル）が明確

#### 4. 既存のSkill構造を壊さない ✅

- セクション番号の整合性維持
- フォーマット一貫性
- コードブロックの正しい閉じ

### 総合評価

**品質スコア**: 100% (すべての基準を満たす)

- テストケース合格率: 3/3 (100%)
- 品質基準達成率: 4/4 (100%)
- フォーマット一貫性: ✅
- 用語統一性: ✅
- 内容論理性: ✅

**結論**: すべての品質基準を満たしており、本番環境への適用が可能です。

---

## DOC（ドキュメント更新）

README.mdを更新して、この機能追加を反映しました。

### 更新内容

#### 1. 開発状況セクションに追記

**追加箇所**: 「## 開発状況」セクション

**追加内容**:
```markdown
- [完了] テストディレクトリ構造ガイド追加: tdd-plan/red/greenにディレクトリ配置推奨を追加（2025-10-29）
```

#### 2. ロードマップセクションに追記

**追加箇所**: 「#### Phase 1: コアフレームワーク」セクション

**追加内容**:
```markdown
- [完了] テストディレクトリ構造ガイド追加
  - [完了] tdd-planにセクション7追加（ディレクトリ構造の計画）
  - [完了] tdd-redにセクション2.1.1追加（ディレクトリ構造の決定）
  - [完了] tdd-greenにセクション2.0追加（ディレクトリ構造の確認）
  - [完了] 機能領域別サブディレクトリ推奨（User/, Product/, Order/）
  - [完了] 小規模 vs 大規模プロジェクト判断基準（10ファイル）
```

#### 3. 最終更新情報を更新

**更新前**:
```
*最終更新: 2025-10-28*
*開発状況: ... + TDDドキュメントファイル形式変更（時系列管理 + 機能名自動生成）*
```

**更新後**:
```
*最終更新: 2025-10-29*
*開発状況: ... + TDDドキュメントファイル形式変更（時系列管理 + 機能名自動生成）+ テストディレクトリ構造ガイド追加（3 Skills改善）*
```

### 更新されたファイル

- ✅ README.md
  - 開発状況セクション更新
  - ロードマップセクション更新
  - 最終更新日時更新

### ドキュメント一貫性チェック

- ✅ 日付が一致（2025-10-29）
- ✅ バージョン情報が一貫
- ✅ 機能説明が正確
- ✅ 既存のフォーマットに準拠

---

## COMMIT

すべてのTDDフェーズが完了しました。gitコミットの準備が整いました。

### 変更ファイル一覧

#### 追加されたファイル
1. `docs/20251029_1118_テストディレクトリ構造ガイド追加.md` - このTDDドキュメント

#### 修正されたファイル
1. `templates/laravel/.claude/skills/tdd-plan/SKILL.md`
   - セクション7「ディレクトリ構造の計画」を追加
   - セクション番号を更新（7→8, 8→9, 9→10）

2. `templates/laravel/.claude/skills/tdd-red/SKILL.md`
   - セクション2.1.1「ディレクトリ構造の決定」を追加
   - 小規模/大規模プロジェクトの構造例を追加
   - 3つの重要な原則を追加
   - ディレクトリ作成方法を追加
   - 判断基準を追加

3. `templates/laravel/.claude/skills/tdd-green/SKILL.md`
   - セクション2.0「ディレクトリ構造の確認」を追加
   - tests/とapp/の構造一致推奨を追加
   - Controllers/Services/Providersの配置例を追加
   - 実装時の注意点3つを追加

4. `README.md`
   - 開発状況セクション更新
   - ロードマップセクション更新
   - 最終更新日時を2025-10-29に更新

### 推奨コミットメッセージ

```bash
git add docs/20251029_1118_テストディレクトリ構造ガイド追加.md
git add templates/laravel/.claude/skills/tdd-plan/SKILL.md
git add templates/laravel/.claude/skills/tdd-red/SKILL.md
git add templates/laravel/.claude/skills/tdd-green/SKILL.md
git add README.md

git commit -m "feat: テストディレクトリ構造ガイド追加

3つのSkills (tdd-plan, tdd-red, tdd-green) にLaravelテストディレクトリ
の推奨構造ガイドを追加。

変更内容:
- tdd-plan: セクション7「ディレクトリ構造の計画」追加
- tdd-red: セクション2.1.1「ディレクトリ構造の決定」追加
- tdd-green: セクション2.0「ディレクトリ構造の確認」追加

機能:
- 機能領域別サブディレクトリ推奨 (User/, Product/, Order/)
- 小規模 vs 大規模プロジェクト判断基準 (10ファイル)
- app/とtests/の構造一致推奨
- Laravel公式、Framgia、Gemini調査結果を反映

品質検証:
- すべての手動テストケース合格 (TC-01, TC-02, TC-03)
- フォーマット一貫性確認済み
- コードブロック整合性確認済み
- 用語統一性確認済み

参考:
- docs/20251029_1118_テストディレクトリ構造ガイド追加.md"
```

### TDD完了確認

- ✅ INIT: 要件定義完了
- ✅ PLAN: 実装計画完了
- ✅ PLAN REVIEW: ユーザー承認完了
- ✅ RED: テストケース作成完了（手動テスト）
- ✅ GREEN: 実装完了（3ファイル修正）
- ✅ REFACTOR: リファクタリング完了（改善不要）
- ✅ REVIEW: 品質検証完了（全テスト合格）
- ✅ DOC: ドキュメント更新完了（README.md更新）
- ✅ COMMIT: コミット準備完了

### 次のアクション

1. 上記のgitコマンドを実行してコミット
2. または、ユーザーが独自のコミットメッセージでコミット

---

**TDDワークフロー完了**: 2025-10-29
**機能名**: テストディレクトリ構造ガイド追加
**品質スコア**: 100%

---

## 次のステップ

1. [完了] INIT（要件定義）
2. [完了] PLAN（実装計画）
3. [完了] PLAN REVIEW（ユーザー承認）
4. [完了] RED（テストケース）
5. [完了] GREEN（実装）
6. [完了] REFACTOR（リファクタリング）
7. [完了] REVIEW（品質検証）
8. [完了] DOC（ドキュメント更新）
9. [完了] COMMIT ← すべて完了！

---

*作成日時: 2025-10-29 11:18*
*完了日時: 2025-10-29*
*ステータス: ✅ すべてのフェーズ完了 - コミット準備完了*
